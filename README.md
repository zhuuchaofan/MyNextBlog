# MyNextBlog

> åŸºäº **.NET 10** ä¸ **Next.js 15** æ„å»ºçš„é«˜æ€§èƒ½ã€å®‰å…¨ã€ç°ä»£åŒ–çš„å…¨æ ˆåšå®¢å¼•æ“ã€‚

MyNextBlog æ˜¯ä¸€ä¸ªé‡‡ç”¨ **BFF (Backend for Frontend)** æ¶æ„è®¾è®¡çš„ Headless å†…å®¹ç®¡ç†ç³»ç»Ÿã€‚å®ƒæ—¨åœ¨ä¸ºå¼€å‘è€…æä¾›ä¸€ä¸ª**ç”Ÿäº§çº§**çš„åšå®¢è§£å†³æ–¹æ¡ˆï¼Œåœ¨ä¿æŒæç®€éƒ¨ç½²ï¼ˆDocker + SQLiteï¼‰çš„åŒæ—¶ï¼Œå®ç°äº†ä¼ä¸šçº§çš„æ€§èƒ½ä¼˜åŒ–ä¸å®‰å…¨æ ‡å‡†ã€‚

---

## âš¡ï¸ æŠ€æœ¯äº®ç‚¹ (Highlights)

### æ¶æ„ä¸æ€§èƒ½

- **BFF å®‰å…¨æ¶æ„**: Next.js ä½œä¸ºä¸­é—´å±‚æ‹¦æˆª API è¯·æ±‚ï¼Œå®ç°äº† **Token éšèº«åŒ–** (HttpOnly Cookie)ï¼Œå½»åº•æœç»äº† XSS çªƒå– Token çš„é£é™©ã€‚
- **Token åˆ·æ–°é˜²æƒŠç¾¤ (Thundering Herd Protection)**: å®ç°äº† Token å»¶è¿Ÿè½®æ¢æœºåˆ¶ ("æŒ‰éœ€è½®æ¢"ç­–ç•¥)ï¼Œå½»åº•è§£å†³äº† Next.js å¤šå¹¶å‘è¯·æ±‚å¯¼è‡´çš„ç”¨æˆ·æ„å¤–ç™»å‡ºé—®é¢˜ï¼Œå³ä½¿ç”¨æˆ· Token è¿‡æœŸä¹Ÿèƒ½å¹³æ»‘æ— æ„Ÿåˆ·æ–°ã€‚
- **æ™ºèƒ½ç¼“å­˜ (Smart Caching)**:
  - **å‰ç«¯ ISR (å¢é‡é™æ€å†ç”Ÿ)**: é¦–é¡µä¸è¯¦æƒ…é¡µé‡‡ç”¨ Next.js ISR ç­–ç•¥ï¼Œæ¯ 60 ç§’è‡ªåŠ¨é‡éªŒè¯ã€‚å…¬å¼€è®¿é—®å‘½ä¸­é™æ€ç¼“å­˜ï¼Œå®ç° CDN çº§ç§’å¼€ä½“éªŒã€‚
  - **åç«¯åˆ†å±‚ç¼“å­˜**:
    - **å†…å­˜ç¼“å­˜**: é’ˆå¯¹é«˜é¢‘çš„â€œçº¯å‡€é¦–é¡µâ€è¯·æ±‚ï¼Œåç«¯å®ç°äº†æ¯«ç§’çº§å†…å­˜ç¼“å­˜ã€‚
    - **æƒé™éš”ç¦»**: ç¼“å­˜ Key åŒºåˆ†ç®¡ç†å‘˜ä¸æ¸¸å®¢ (`all_posts_index_True`/`False`)ï¼Œé˜²æ­¢éšè—æ–‡ç« æ³„éœ²ã€‚
    - **ä¸€è‡´æ€§**: åç«¯ç¼“å­˜æ”¯æŒå³æ—¶å¤±æ•ˆï¼Œä¸å‰ç«¯ ISR é…åˆå®ç°â€œæœ€ç»ˆä¸€è‡´æ€§â€ (60s å»¶è¿Ÿ)ã€‚
- **æè‡´ DB ä¼˜åŒ–**:
  - **AsNoTracking**: å…¨é¢ç¦ç”¨å˜æ›´è¿½è¸ªï¼Œé™ä½å†…å­˜ 60%+ã€‚
  - **Select æŠ•å½± & DTO**: åˆ—è¡¨é¡µä»…æŸ¥è¯¢å¿…è¦å­—æ®µï¼ˆ300 å­—æ‘˜è¦ï¼‰ï¼Œå¹¶åœ¨å†…å­˜ä¸­æ˜ å°„ä¸º `PostSummaryDto`ï¼Œæœç»äº†â€œæˆªæ–­å®ä½“â€å¯¹é¢†åŸŸæ¨¡å‹çš„æ±¡æŸ“ï¼ŒåŒæ—¶æå¤§å‡å°‘ I/O è½½è·ã€‚
  - **SQLite WAL æ¨¡å¼**: é»˜è®¤å¼€å¯ Write-Ahead Logging (WAL)ï¼Œæ˜¾è‘—æå‡äº† SQLite çš„å¹¶å‘è¯»å†™æ€§èƒ½ï¼Œé¿å…æ•°æ®åº“é”æ­»ã€‚
  - **ç‰©ç†ç´¢å¼•**: å¯¹ `IsHidden`, `CreateTime`, `ParentId` ç­‰é«˜é¢‘ç­›é€‰å­—æ®µå»ºç«‹äº†æ•°æ®åº“ç´¢å¼•ã€‚

### ç°ä»£åŒ–ä½“éªŒ

- **UI/UX**: å…¨ç«™ç»Ÿä¸€é‡‡ç”¨äº† "Bento Grid" (ä¾¿å½“ç›’) å¸ƒå±€ä¸ **"Dot Pattern" (ç‚¹é˜µç§‘æŠ€)** è§†è§‰ä¸»é¢˜ï¼ˆå« Auth é¡µé¢ï¼‰ï¼Œé…åˆ Tailwind v4 å®ç°æè‡´è§†è§‰ä½“éªŒã€‚
- **ç³»åˆ—æ–‡ç«  (Series)**: æ”¯æŒå°†ç›¸å…³æ–‡ç« ç»„ç»‡æˆç³»åˆ—ï¼Œæä¾›ç³»åˆ—å¯¼èˆªã€ç›®å½•é¡µå’Œè‡ªåŠ¨åºå·åŠŸèƒ½ã€‚
- **äº‘åŸç”Ÿ**: é›†æˆ Cloudflare R2 å¯¹è±¡å­˜å‚¨ï¼Œå®ç°ä»£ç ä¸èµ„æºåˆ†ç¦»ã€‚
- **RSS è®¢é˜…**: å†…ç½®æ ‡å‡† RSS 2.0 Feed ç”Ÿæˆå™¨ï¼Œæ–¹ä¾¿é˜…è¯»å™¨èšåˆã€‚

---

## ğŸ‘¥ æƒé™ä¸ç”¨æˆ·ä½“ç³» (Permission & User System)

ç³»ç»Ÿè®¾è®¡äº†æå…¶ç²¾ç»†çš„æƒé™æ§åˆ¶çŸ©é˜µï¼Œè¦†ç›–äº†ä»æ¸¸å®¢åˆ°è¶…çº§ç®¡ç†å‘˜çš„å…¨ç”Ÿå‘½å‘¨æœŸã€‚

### 1. è§’è‰²æƒé™çŸ©é˜µ

| åŠŸèƒ½æ¨¡å—           | ğŸ‘¤ æ¸¸å®¢ (Visitor) |    ğŸ§‘ æ³¨å†Œç”¨æˆ· (Member)    |     ğŸ›¡ï¸ ç®¡ç†å‘˜ (Admin)     |
| :----------------- | :---------------: | :------------------------: | :-----------------------: |
| **æµè§ˆæƒé™**       |  ä»…å…¬å¼€æ–‡ç« /è¯„è®º  |      ä»…å…¬å¼€æ–‡ç« /è¯„è®º       |  **æ‰€æœ‰** (å«éšè—/è‰ç¨¿)   |
| **é¦–é¡µ/åˆ†ç±»/æœç´¢** | è‡ªåŠ¨è¿‡æ»¤éšè—æ–‡ç«   |      è‡ªåŠ¨è¿‡æ»¤éšè—æ–‡ç«       | æ˜¾ç¤ºå…¨éƒ¨ (å¸¦ Hidden æ ‡è®°) |
| **ç³»åˆ—é¡µé¢**       |    ä»…å…¬å¼€æ–‡ç«      |         ä»…å…¬å¼€æ–‡ç«          | æ˜¾ç¤ºå…¨éƒ¨ (å¸¦ Hidden æ ‡è®°) |
| **æ–‡ç« ç®¡ç†**       |        âŒ         |             âŒ             |    âœ… (å‘å¸ƒ/ç¼–è¾‘/åˆ é™¤)    |
| **è¯„è®ºæƒé™**       | âœ… (éœ€éªŒè¯/å®¡æ ¸)  |      âœ… (è‡ªåŠ¨/å…å®¡\*)      |  âœ… (ç®¡ç†æ‰€æœ‰/æ‰¹é‡æ“ä½œ)   |
| **ç‚¹èµæœºåˆ¶**       | âœ… (åŸºäº IP æŒ‡çº¹) | âœ… (å…³è” UserID, å¤šç«¯åŒæ­¥) |            âœ…             |
| **ç”¨æˆ·ä¸­å¿ƒ**       |        âŒ         |  âœ… (æ”¹å/æ¢å¤´åƒ/ä¿®ç®€ä»‹)   |         âœ… (åŒä¸Š)         |
| **åª’ä½“åº“**         |        âŒ         |      âœ… (ä»…å¤´åƒä¸Šä¼ )       |   âœ… (æ–‡ç« é…å›¾/R2 ç®¡ç†)   |
| **åå°è®¿é—®**       |        âŒ         |             âŒ             |    âœ… (`/admin` è·¯ç”±)     |

### 2. ç”¨æˆ·ç”Ÿå‘½å‘¨æœŸ (User Lifecycle)

- **æ³¨å†Œ (Registration)**:
  - å¼€æ”¾æ³¨å†Œæ¥å£ `/api/auth/register`ã€‚
  - **å¼ºåˆ¶é‚®ç®±éªŒè¯**: æ³¨å†Œæ—¶å¿…é¡»æä¾›æœ‰æ•ˆé‚®ç®±ï¼Œç”¨äºåç»­å¯†ç æ‰¾å›ã€‚
  - å¯†ç å®‰å…¨ï¼šå‰ç«¯ä¼ è¾“æ˜æ–‡ -> åç«¯ **BCrypt** åŠ ç›å“ˆå¸Œå­˜å‚¨ (WorkFactor=10)ã€‚
  - é»˜è®¤è§’è‰²ï¼šæ–°æ³¨å†Œç”¨æˆ·é»˜è®¤ä¸º `User` è§’è‰²ï¼Œæ— åå°è®¿é—®æƒé™ã€‚
- **ç™»å½• (Login)**:
  - é‡‡ç”¨ **HttpOnly Cookie** æ¨¡å¼ã€‚
  - æµç¨‹ï¼šç”¨æˆ·æäº¤è´¦å·å¯†ç  -> Next.js éªŒè¯ -> åç«¯ç­¾å‘ JWT -> Next.js å°† JWT å†™å…¥æµè§ˆå™¨ Cookie (ä¸æš´éœ²ç»™ JS) -> è·³è½¬é¦–é¡µã€‚
- **æ‰¾å›å¯†ç  (Password Reset)**:
  - æµç¨‹ï¼š`/forgot-password` æäº¤é‚®ç®± -> åç«¯ç”Ÿæˆ 30 åˆ†é’Ÿæœ‰æ•ˆçš„é‡ç½® Token -> å‘é€é‚®ä»¶ -> ç”¨æˆ·ç‚¹å‡»é“¾æ¥è¿›å…¥ `/reset-password` -> è®¾ç½®æ–°å¯†ç ã€‚
  - å®‰å…¨ï¼šToken åŒ…å«å“ˆå¸Œç­¾åï¼Œè¿‡æœŸè‡ªåŠ¨å¤±æ•ˆã€‚
- **ä¸ªäººèµ„æ–™ (Profile)**:
  - æ”¯æŒä¿®æ”¹æ˜µç§°ã€ä¸ªäººç®€ä»‹ (`Bio`)ã€ä¸ªäººç½‘ç«™é“¾æ¥ã€‚
  - æ”¯æŒå¤´åƒä¸Šä¼  (è‡ªåŠ¨å‹ç¼©å¹¶ä¸ç»è¿‡æœåŠ¡å™¨ç£ç›˜ï¼Œç›´æ¥æµå¼ä¸Šä¼ è‡³ Cloudflare R2)ã€‚

---

## ğŸ§© åŠŸèƒ½æ¨¡å—æ·±åº¦è§£æ (Modules Deep Dive)

### 1. ğŸ“ æ ¸å¿ƒåšå®¢ç³»ç»Ÿ (Blog Core)

- **SEO æœ€ä½³å®è·µ**:
  - é…ç½®äº† `metadataBase`ï¼Œç¡®ä¿ Open Graph åˆ†äº«é“¾æ¥çš„æ­£ç¡®æ€§ã€‚
  - é…ç½®äº† `metadataBase`ï¼Œç¡®ä¿ Open Graph åˆ†äº«é“¾æ¥çš„æ­£ç¡®æ€§ã€‚
  - æ··åˆæ¸²æŸ“ç­–ç•¥ï¼šé¦–é¡µ/è¯¦æƒ…é¡µ (ISR) + ç®¡ç†åå° (SSR) + äº¤äº’ç»„ä»¶ (CSR)ï¼Œåˆ©ç”¨ `generateMetadata` åŠ¨æ€ç”Ÿæˆæ–‡ç« æ ‡é¢˜å’Œæ‘˜è¦ã€‚
- **Markdown å¼•æ“**:
  - åŸºäº `react-markdown` å’Œ `rehype-highlight`ã€‚
  - æ”¯æŒ GFM æ ‡å‡†è¡¨æ ¼ã€ä»»åŠ¡åˆ—è¡¨ã€ä»£ç å—é«˜äº®ã€‚
- **åˆ†ç±»ä½“ç³» (ä¸‰å±‚ä¿¡æ¯æ¶æ„)**:
  - **Category (åˆ†ç±»)**: æ–‡ç« çš„"ä¸»é¢˜é¢†åŸŸ"ï¼Œäº’æ–¥å…³ç³» (ä¸€ç¯‡åªå±äºä¸€ä¸ªåˆ†ç±»)ã€‚
  - **Tags (æ ‡ç­¾)**: æ–‡ç« çš„"å…³é”®è¯ç‰¹å¾"ï¼Œéäº’æ–¥ (å¦‚ ".NET", "Docker", "Tutorial")ã€‚
  - **Series (ç³»åˆ—)**: æ–‡ç« çš„"æœ‰åºé›†åˆ"ï¼Œé€‚åˆè¿è½½æ•™ç¨‹ã€‚
  - **UI ä¿¡æ¯å±‚æ¬¡**: é¦–é¡µå¡ç‰‡é¡¶éƒ¨æ˜¾ç¤ºåˆ†ç±»+ç³»åˆ—ï¼ˆå®šä½ä¿¡æ¯ï¼‰ï¼Œåº•éƒ¨æ˜¾ç¤ºæ ‡ç­¾ï¼ˆç‰¹å¾ä¿¡æ¯ï¼‰ï¼›è¯¦æƒ…é¡µ Hero åŒºå®Œæ•´å±•ç¤ºä¸‰è€…ã€‚

* **çŠ¶æ€æœº**: æ–‡ç« å…·å¤‡ `Active` (å…¬å¼€) / `Hidden` (éšè—) çŠ¶æ€ã€‚
  - **å‰å°ç®¡ç†**: ç®¡ç†å‘˜ç™»å½•åï¼Œæ–‡ç« å¡ç‰‡ä¼šå‡ºç° "ğŸ‘ï¸" åˆ‡æ¢æŒ‰é’®ã€‚
  - **æé€Ÿå“åº”**: ç‚¹å‡»å³æ—¶åˆ‡æ¢å¯è§æ€§ (Optimistic UI)ï¼Œæ— éœ€åˆ·æ–°é¡µé¢ã€‚
  - **æ•°æ®ç©¿é€**: ç®¡ç†å‘˜èº«ä»½ä¼šè‡ªåŠ¨ç»•è¿‡ ISR ç¼“å­˜ï¼Œå®æ—¶è·å–æ‰€æœ‰æ–‡ç« çŠ¶æ€ã€‚
* **ç³»åˆ—æ–‡ç«  (Article Series)**:
  - **å†…å®¹ç»„ç»‡**: å°†å¤šç¯‡ç›¸å…³æ–‡ç« å½’å…¥åŒä¸€ç³»åˆ—ï¼ˆå¦‚ "Next.js å®æˆ˜æ•™ç¨‹"ï¼‰ã€‚
  - **ç³»åˆ—å¯¼èˆª**: æ–‡ç« è¯¦æƒ…é¡µåº•éƒ¨è‡ªåŠ¨æ˜¾ç¤ºç³»åˆ—ä¿¡æ¯å’Œä¸Šä¸€ç¯‡/ä¸‹ä¸€ç¯‡é“¾æ¥ã€‚
  - **ç³»åˆ—ç›®å½•é¡µ**: æ¯ä¸ªç³»åˆ—æœ‰ç‹¬ç«‹çš„ `/series/[id]` æ±‡æ€»é¡µé¢ï¼Œå±•ç¤ºå…¨éƒ¨æ–‡ç« ã€‚
  - **ä¸“ç”¨ API**: åç«¯æä¾› `GET /api/series/{id}/posts` ç«¯ç‚¹ï¼Œé¿å…å‰ç«¯è¿‡æ»¤ï¼Œæ”¯æŒæƒé™æ§åˆ¶ã€‚
  - **æ™ºèƒ½åºå·**: æ–°å»ºæ–‡ç« æ—¶é€‰æ‹©ç³»åˆ—åï¼Œè‡ªåŠ¨å¡«å…¥ä¸‹ä¸€ç¯‡çš„åºå·ã€‚
  - **ç§»åŠ¨ç«¯ä¼˜åŒ–**: ç³»åˆ—å¯¼èˆªåœ¨ç§»åŠ¨ç«¯é‡‡ç”¨å‚ç›´å †å å¸ƒå±€ï¼Œé˜…è¯»æ›´æµç•…ã€‚
* **å…¨ç«™æ·±è‰²æ¨¡å¼ (Dark Mode)**:
  - åŸºäº `next-themes` å®ç°ï¼Œå®Œç¾é€‚é…ç³»ç»Ÿè®¾ç½®ã€‚
  - æ”¯æŒæ‰‹åŠ¨åˆ‡æ¢ (Light/Dark/System)ï¼Œé˜²æ­¢å¤œé—´é˜…è¯»åˆºçœ¼ã€‚

### 2. ğŸ’¬ äº’åŠ¨ä¸è¯„è®º (Interaction)

- **æé€Ÿç‚¹èµ (Optimistic UI)**:
  - é‡‡ç”¨ä¹è§‚æ›´æ–°ç­–ç•¥ï¼Œç‚¹å‡»å³åé¦ˆï¼Œåå°å¼‚æ­¥åŒæ­¥æ•°æ®ã€‚
  - **æ··åˆæŒä¹…åŒ–**: æœªç™»å½•ç”¨æˆ·ä½¿ç”¨ `localStorage` è®°å½•çŠ¶æ€ï¼Œç™»å½•ç”¨æˆ·å…³è”æ•°æ®åº“è´¦å·ï¼Œå¤šç«¯åŒæ­¥ã€‚
- **ä¸€é”®åˆ†äº«**:
  - æ–‡ç« è¯¦æƒ…é¡µæ”¯æŒä¸€é”®å¤åˆ¶é“¾æ¥ (PC) æˆ–è°ƒç”¨ç³»ç»ŸåŸç”Ÿåˆ†äº« (Mobile - Planned)ã€‚
- **æ— é™çº§å›å¤**:
  - é‡‡ç”¨ `ParentId` é‚»æ¥è¡¨è®¾è®¡ï¼Œç†è®ºä¸Šæ”¯æŒæ— é™å±‚çº§åµŒå¥—ã€‚
  - å‰ç«¯è‡ªåŠ¨é€’å½’æ¸²æŸ“ç»„ä»¶æ ‘ã€‚
  - **èŠå¤©æ°”æ³¡é£æ ¼ (Chat Bubble UI)**:
    - å…¨æ–°è®¾è®¡çš„ç°ä»£åŒ–æ°”æ³¡å¸ƒå±€ï¼Œè§†è§‰èšç„¦å†…å®¹æœ¬èº«ã€‚
    - å®Œç¾çš„åœ†è§’ä¸ç•™ç™½å¤„ç†ï¼Œæå‡é˜…è¯»èˆ’é€‚åº¦ã€‚
  - **æ™ºèƒ½é˜²é£æ§ (Anti-Spam)**:
    - **é¢‘ç‡é™åˆ¶**: å†…å­˜çº§æ»‘åŠ¨çª—å£ç®—æ³•ï¼Œé™åˆ¶å• IP 60 ç§’å†…ä»…èƒ½å‘å¸ƒ 1 æ¡è¯„è®ºã€‚
    - **æ•æ„Ÿè¯è¿‡æ»¤**: å†…ç½®æ•æ„Ÿè¯åº“ï¼ŒåŒ¹é…æˆåŠŸåè¯„è®ºè‡ªåŠ¨æ ‡è®°ä¸º `IsApproved=false`ï¼Œéœ€äººå·¥å®¡æ ¸é€šè¿‡åæ‰ä¼šæ˜¾ç¤ºã€‚
- **é‚®ä»¶é€šçŸ¥**:
  - å½“è¯„è®ºè¢«å›å¤æ—¶ï¼Œè‡ªåŠ¨å‘é€é‚®ä»¶é€šçŸ¥åŸä½œè€…ï¼ˆæ”¯æŒ SMTP é…ç½®ï¼‰ã€‚
- **ç§»åŠ¨ç«¯ä½“éªŒä¼˜åŒ– (Mobile Experience)**:
  - **æ‹‡æŒ‡å‹å¥½ (Thumb-friendly)**: æ–°å¢åº•éƒ¨æ‚¬æµ®æ  (Sticky Bar)ï¼Œé›†æˆå†™è¯„è®º(è‡ªåŠ¨èšç„¦)ã€ç‚¹èµã€åˆ†äº«åŠŸèƒ½ã€‚
  - **æ™ºèƒ½å¸ƒå±€**:
    - è¯„è®ºåŒºåœ¨ç§»åŠ¨ç«¯è‡ªåŠ¨åˆ‡æ¢ä¸º "ä¸Šä¸‹å †å " å¸ƒå±€ï¼Œé˜²æ­¢ä¿¡æ¯æ‹¥æŒ¤ã€‚
    - ä¼˜åŒ–ç¼©è¿›ç®—æ³•ï¼Œé¿å…æ·±å±‚å›å¤å¯¼è‡´ "æ’ç‰ˆå´©å"ã€‚
    - é”®ç›˜è‡ªåŠ¨å¯¹ç„¦ä¼˜åŒ–ï¼Œç‚¹å‡»è¾“å…¥æ¡†å¹³æ»‘æ»šåŠ¨ã€‚

### 3. ğŸ–¼ï¸ äº‘åŸç”Ÿåª’ä½“ä¸­å¿ƒ (Cloud Media)

- **Next.js Image ä¼˜åŒ–**:
  - `next.config.ts` å·²é…ç½® `remotePatterns` ç™½åå•ï¼Œä»…å…è®¸ R2 å’Œ DiceBear åŸŸåã€‚
  - åˆ©ç”¨ Next.js è‡ªåŠ¨ç”Ÿæˆ `srcset`ï¼Œæ ¹æ®è®¾å¤‡å±å¹•å®ç°å“åº”å¼å›¾ç‰‡åŠ è½½ï¼Œå¤§å¹…èŠ‚çœå¸¦å®½ã€‚
- **æ¶æ„**:
  - å½»åº•å‘Šåˆ«æœ¬åœ° `wwwroot/uploads` ç›®å½•ã€‚
  - æ‰€æœ‰å›¾ç‰‡ï¼ˆå¤´åƒã€æ–‡ç« é…å›¾ï¼‰ç›´æ¥æµå¼ä¸Šä¼ è‡³ **Cloudflare R2** (S3 å…¼å®¹)ã€‚
- **æ™ºèƒ½å…³è” (Smart Binding)**:
  - **é—®é¢˜**: ç”¨æˆ·ä¸Šä¼ äº†å›¾ç‰‡ä½†æœ€åæ²¡å‘æ–‡ç« ï¼Œå¯¼è‡´ç”±äºâ€œåƒµå°¸å›¾ç‰‡â€å ç”¨äº‘å­˜å‚¨ç©ºé—´ã€‚
  - **æ–¹æ¡ˆ**:
    1.  å›¾ç‰‡ä¸Šä¼ æ—¶æ ‡è®°ä¸º `Unbound`ã€‚
    2.  æ–‡ç« å‘å¸ƒ/æ›´æ–°æ—¶ï¼Œåå°æ‰«æ Markdown å†…å®¹ï¼Œè§£ææ‰€æœ‰å›¾ç‰‡ URLã€‚
    3.  å°†åŒ¹é…åˆ°çš„å›¾ç‰‡èµ„æºæ ‡è®°ä¸º `Bound` å¹¶å…³è” `PostId`ã€‚
    4.  åå°æœåŠ¡å®šæœŸæ¸…ç† `Unbound` ä¸”è¶…è¿‡ 24 å°æ—¶çš„å›¾ç‰‡ã€‚
- **å®‰å…¨åŠ å›º (Security Hardening)**:
  - **ä¸¥æ ¼çš„æ–‡ä»¶æ ¡éªŒ**: `UploadController` å¼ºåˆ¶æ‰§è¡Œ `Image.IdentifyAsync` æ·±åº¦æ–‡ä»¶å¤´æ£€æŸ¥ï¼Œä»»ä½•æ— æ³•è¯†åˆ«ä¸ºæœ‰æ•ˆå›¾ç‰‡çš„æ–‡ä»¶ï¼ˆå¦‚ä¼ªè£…æˆ jpg çš„ Webshellï¼‰ä¼šè¢«ç›´æ¥æ‹’ç»ä¸Šä¼ ã€‚

### 4. ğŸ“Š RSS è®¢é˜… (Feed)

- **æ ‡å‡†æ”¯æŒ**: è‡ªåŠ¨ç”Ÿæˆç¬¦åˆ `RSS 2.0` æ ‡å‡†çš„ XML æ–‡ä»¶ã€‚
- **è·¯ç”±**: `/feed.xml`ã€‚
- **åŒ…å«å†…å®¹**:
  - æœ€è¿‘ 20 ç¯‡å…¬å¼€æ–‡ç« ã€‚
  - åŒ…å«å…¨æ–‡æ‘˜è¦ã€å‘å¸ƒæ—¶é—´ã€ä½œè€…ä¿¡æ¯ã€‚

* å…¼å®¹ Feedly, Reeder ç­‰ä¸»æµé˜…è¯»å™¨ã€‚

### 5. ğŸ” æœç´¢ä¸å½’æ¡£ (Search & Archive)

- **å…¨å±€æœç´¢**:
  - å‰ç«¯é›†æˆ CMD+K å¿«æ·é”®å”¤èµ·æœç´¢æ¡†ã€‚
  - æ”¯æŒé’ˆå¯¹ æ ‡é¢˜ã€æ ‡ç­¾ã€æ‘˜è¦ çš„æ¨¡ç³Šæ£€ç´¢ã€‚
- **æ—¶é—´è½´å½’æ¡£**:
  - æŒ‰å¹´ä»½/æœˆä»½è‡ªåŠ¨èšç±»æ–‡ç« ï¼Œæ–¹ä¾¿è¿½æº¯å†å²å†…å®¹ã€‚

### 6. âš™ï¸ è¶…çº§ç®¡ç†åå° (Admin Dashboard)

- **ä»ªè¡¨ç›˜**: å¯è§†åŒ–å±•ç¤ºæ–‡ç« æ€»æ•°ã€è¯„è®ºæ€»æ•°ã€å¾…å®¡æ ¸æ•°é‡ã€‚
- **ç³»åˆ—ç®¡ç†**:
  - ä¸“ç”¨ `/admin/series` é¡µé¢ï¼Œæ”¯æŒç³»åˆ—çš„åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤ã€‚
  - æ˜¾ç¤ºæ¯ä¸ªç³»åˆ—åŒ…å«çš„æ–‡ç« æ•°é‡ã€‚
  - åˆ é™¤ç³»åˆ—æ—¶æç¤ºå—å½±å“çš„æ–‡ç« æ•°é‡ï¼Œé˜²æ­¢è¯¯æ“ä½œã€‚
  - ç§»åŠ¨ç«¯é‡‡ç”¨å¡ç‰‡è§†å›¾ï¼Œä¸è¯„è®ºç®¡ç†é£æ ¼ä¸€è‡´ã€‚
- **å†…å®¹å®¡è®¡**:
  - ä¸“ç”¨çš„è¯„è®ºå®¡æ ¸é˜Ÿåˆ—ã€‚
  - æ”¯æŒä¸€é”® "âœ… é€šè¿‡" æˆ– "ğŸ—‘ï¸ åˆ é™¤"ã€‚
  - **ç§»åŠ¨ç«¯ä¼˜åŒ–**:
    - **å¡ç‰‡è§†å›¾**: è‡ªåŠ¨åˆ‡æ¢ä¸º Card Viewï¼Œé€‚é…æ‰‹æœºçª„å±ã€‚
    - **æ‚¬æµ®æ“ä½œæ **: å¤šé€‰æ—¶åº•éƒ¨å¼¹å‡ºæ‰¹é‡æ“ä½œæ¡ï¼Œä¸é®æŒ¡å†…å®¹ã€‚
    - **äº¤äº’ç»Ÿä¸€**: ä¿®æ­£äº†åˆ†é¡µæŒ‰é’®é¡ºåºï¼Œç»Ÿä¸€äº†æ‰€æœ‰ç®¡ç†é¡µé¢çš„å¤´éƒ¨å¯¼èˆªã€‚
- **æ–‡ç« åˆ—è¡¨å¢å¼º**:
  - æ–‡ç« ç®¡ç†åˆ—è¡¨æ˜¾ç¤ºæ‰€å±ç³»åˆ—ä¿¡æ¯ï¼ˆ`#åºå· ç³»åˆ—å`ï¼‰ã€‚
  - ç¼–è¾‘æ–‡ç« æ—¶å¯é€‰æ‹©/ä¿®æ”¹æ‰€å±ç³»åˆ—ï¼Œæ”¯æŒè‡ªåŠ¨å¡«å…¥åºå·ã€‚
- **é…ç½®ä¸­å¿ƒ**:
  - (WIP) æ”¯æŒåœ¨çº¿ä¿®æ”¹ç½‘ç«™æ ‡é¢˜ã€SEO å…³é”®è¯ã€‚

### 7. ğŸ›¡ï¸ è¿ç»´è‡ªåŠ¨åŒ– (Ops Automation)

- **æ•°æ®åº“è‡ªåŠ¨å¤‡ä»½**:
  - å†…ç½® `DatabaseBackupService` (HostedService)ï¼Œæ— éœ€é…ç½® Crontabã€‚
  - **æœºåˆ¶**: æ¯å¤©å‡Œæ™¨è‡ªåŠ¨å°† `blog.db` æ–‡ä»¶çƒ­å¤‡ä»½å¹¶ä¸Šä¼ è‡³ Cloudflare R2 çš„ `/backups` ç›®å½•ã€‚
  - **é«˜å¯ç”¨**: å³ä½¿æœåŠ¡å™¨å½»åº•å®•æœºï¼Œä¹Ÿèƒ½ä»äº‘ç«¯æ¢å¤æœ€è¿‘ä¸€æ¬¡çš„æ•°æ®ã€‚
- **æ•°æ®æ’­ç§ (Seeding)**:
  - é¦–æ¬¡å¯åŠ¨æ—¶ï¼Œ`DataSeeder` ä¼šè‡ªåŠ¨åˆå§‹åŒ–é»˜è®¤åˆ†ç±» (`Technology`, `Life`) å’Œç³»ç»Ÿé…ç½®ï¼Œå®ç°å¼€ç®±å³ç”¨ã€‚

---

## ğŸ”® æœªæ¥è§„åˆ’ (Roadmap)

- [ ] **æµé‡ç»Ÿè®¡ (Analytics)**:
  - è®¡åˆ’é›†æˆ **Google Analytics 4** æˆ– **Vercel Analytics**ï¼Œè¡¥å……ç¼ºå¤±çš„è®¿å®¢è¡Œä¸ºæ•°æ®ã€‚
  - ç›®å‰ä»…æœ‰ Search Console çš„æœç´¢ç‚¹å‡»æ•°æ®ã€‚
- **ç§»åŠ¨ç«¯ä½“éªŒå‡çº§**:
  - [ ] **åŸç”Ÿåˆ†äº«**: é€‚é…ç§»åŠ¨ç«¯ `navigator.share` APIï¼Œè°ƒç”¨ç³»ç»Ÿçº§åˆ†äº«èœå•ã€‚
  - [x] **PWA æ”¯æŒ**: å·²æ·»åŠ  `manifest.json`ï¼Œæ”¯æŒæ·»åŠ åˆ°ä¸»å±å¹•ï¼Œæä¾›ç±»åŸç”Ÿ App ä½“éªŒã€‚
- **å†…å®¹å¢å¼º**:
  - [ ] **å…¨æ–‡ RSS**: ç›®å‰ RSS ä»…è¾“å‡ºæ‘˜è¦ï¼Œè®¡åˆ’å¢åŠ é…ç½®é¡¹æ”¯æŒå…¨æ–‡è¾“å‡ºã€‚
  - [ ] **AI æ‘˜è¦**: åˆ©ç”¨ LLM è‡ªåŠ¨ä¸ºé•¿æ–‡ç« ç”Ÿæˆ TL;DR æ‘˜è¦ã€‚
  - [ ] **ç³»åˆ—æ‰¹é‡ç®¡ç†**: åœ¨ç³»åˆ—ç®¡ç†é¡µé¢æ”¯æŒç›´æ¥é€‰æ‹©æ–‡ç« åŠ å…¥ç³»åˆ—ï¼Œå®ç°æ‰¹é‡æ·»åŠ å’Œæ‹–æ‹½æ’åºã€‚
- **æ¶æ„å‡çº§ (Architecture 2.0)**:
  - [ ] **PostgreSQL è¿ç§»**: ä» SQLite è¿ç§»åˆ° PostgreSQLï¼Œä»¥æ”¯æŒæ›´é«˜çš„å¹¶å‘å†™å…¥å’Œ JSONB é«˜çº§æŸ¥è¯¢ã€‚([æŸ¥çœ‹è¯¦ç»†è¿ç§»æ–¹æ¡ˆ](./MIGRATION_PLAN.md))
  - [ ] **Redis ç¼“å­˜**: å¼•å…¥ Redis æ›¿ä»£å†…å­˜ç¼“å­˜ï¼Œå®ç°åˆ†å¸ƒå¼ç¼“å­˜å’ŒæŒä¹…åŒ–ï¼Œè§£å†³é‡å¯åç¼“å­˜å¤±æ•ˆé—®é¢˜ã€‚([æŸ¥çœ‹è¯¦ç»†è¿ç§»æ–¹æ¡ˆ](./MIGRATION_PLAN.md))
  - [x] **Security Audit**: Completed comprehensive code review for Production Readiness.
  - [ ] **GitHub OAuth**: å®ç° GitHub è´¦å·å¿«æ·ç™»å½• (WIP)ã€‚

### 2025 æˆ˜ç•¥è¯„ä¼° (Strategic Assessment)

> "åŸºå‡†çº¿ä»¥ä¸Šï¼ŒæƒŠå–œçº¿ä»¥ä¸‹"

- **ç°çŠ¶**: ä»£ç è§„èŒƒï¼Œé€‰å‹æ–° (.NET 10/Next 15)ï¼Œæ— å®‰å…¨æ¼æ´ã€‚
- **æŒ‘æˆ˜**: ç¼ºä¹æ ¸å¿ƒç«äº‰åŠ›ä¸æ™ºèƒ½åŒ–ç‰¹æ€§ã€‚
- **åŒ—ææ˜ŸæŒ‡æ ‡ (North Star)**:
  - [ ] **AI å¢å¼º**: å¼•å…¥ **Vector Database** (å‘é‡æ•°æ®åº“) å®ç°è¯­ä¹‰æœç´¢ã€‚
  - [ ] **å¯è§‚æµ‹æ€§**: å¼•å…¥ **OpenTelemetry** å®ç°å…¨é“¾è·¯è¿½è¸ªã€‚
  - [ ] **å·¥ç¨‹åŒ–**: å®Œå–„ CI/CD ä¸è‡ªåŠ¨åŒ–æµ‹è¯•è¦†ç›–ç‡ã€‚

---

## ğŸ›  æŠ€æœ¯åº•å±‚ (Tech Stack)

| é¢†åŸŸ         | æ ¸å¿ƒæŠ€æœ¯       | è¯¦ç»†è¯´æ˜                                                                             |
| :----------- | :------------- | :----------------------------------------------------------------------------------- |
| **Frontend** | **Next.js 15** | ä½¿ç”¨ App Router æ¶æ„ï¼Œç»“åˆ Server Actions å¤„ç†è¡¨å•æäº¤ã€‚                             |
|              | **Typescript** | å…¨é¢å¼ºç±»å‹è¦†ç›–ï¼Œå‰åç«¯å…±äº« DTO å®šä¹‰ã€‚                                                |
|              | **UI System**  | Tailwind CSS v4 (åŸå­åŒ– CSS) + shadcn/ui (æ— å¤´ç»„ä»¶åº“) + Framer Motion (åŠ¨ç”»)ã€‚       |
|              | **Config**     | `next.config.ts` é…ç½®äº† `standalone` æ¨¡å¼ (Docker ä¼˜åŒ–) å’Œ API Rewrites (åå‘ä»£ç†)ã€‚ |
| **Backend**  | **.NET 10**    | æŠ¢å…ˆä½“éªŒç‰ˆ ASP.NET Core Web APIï¼Œä½¿ç”¨ Minimal APIs é£æ ¼ã€‚                            |
|              | **EF Core**    | Code-First, è‡ªåŠ¨ Migrations & Seedingã€‚                                              |
|              | **Services**   | MemoryCache, Serilog, Automapper, HostedServices (Backups)ã€‚                         |
|              | **Serilog**    | ç»“æ„åŒ–æ—¥å¿—ï¼Œæ”¯æŒè¾“å‡ºåˆ° Console, File æˆ– Elasticsearchã€‚                              |
| **DevOps**   | **Docker**     | å¤šé˜¶æ®µæ„å»º (Multi-stage Build)ï¼Œæœ€ç»ˆé•œåƒä»… 80MB+ã€‚                                   |

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨ (Quick Start)

**å‰æ**: æœ¬åœ°å·²å®‰è£… `Docker` å’Œ `Docker Compose`ã€‚

### 1. é…ç½®ç¯å¢ƒ

æ–°å»º `.env` æ–‡ä»¶ï¼š

```env
# R2 å­˜å‚¨é…ç½® (å¿…å¡«ï¼Œå¦åˆ™æ— æ³•ä¸Šä¼ å›¾ç‰‡)
R2_SERVICE_URL=https://<ID>.r2.cloudflarestorage.com
R2_ACCESS_KEY=<KEY>
R2_SECRET_KEY=<SECRET>
R2_BUCKET_NAME=<BUCKET>
R2_PUBLIC_DOMAIN=https://img.yourdomain.com

# é‚®ä»¶é…ç½® (é€‰å¡«ï¼Œä¸å¡«åˆ™ä¸å‘é‚®ä»¶)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your@gmail.com
SMTP_PASS=app_password

# JWT å®‰å…¨é…ç½®
JWT_SECRET=YourSuperSecretKeyShouldBeLongEnough
JWT_ISSUER=MyNextBlogServer
JWT_AUDIENCE=MyNextBlogClient

# åº”ç”¨åŸŸå (ç”¨äºç”Ÿæˆé‡ç½®å¯†ç é“¾æ¥)
AppUrl=http://localhost:3000
```

### 2. ä¸€é”®è¿è¡Œ

```bash
docker compose up -d --build
```

å¯åŠ¨åè®¿é—®ï¼š

- å‰ç«¯ (Blog): `http://localhost:3000`
- åç«¯ (API): `http://localhost:8080`
- API æ–‡æ¡£: `http://localhost:8080/swagger`

### 3. æå‡ç®¡ç†å‘˜

ç³»ç»Ÿé¦–æ¬¡æ³¨å†Œçš„ç”¨æˆ·æ˜¯æ™®é€šç”¨æˆ·ã€‚éœ€æ‰‹åŠ¨é€šè¿‡ SQL ææƒï¼š

```bash
# è¿›å…¥æ•°æ®åº“å®¹å™¨
docker compose exec backend bash
# è¿æ¥ SQLite
sqlite3 data/blog.db
# æ‰§è¡Œ SQL
UPDATE Users SET Role = 'Admin' WHERE Username = 'ä½ çš„ç”¨æˆ·å';
# é€€å‡º
.exit
```

---

## ğŸ“‚ ç›®å½•ç»“æ„å›¾

```text
/
â”œâ”€â”€ backend/                # .NET 10 Web API
â”‚   â”œâ”€â”€ Controllers/        # æ— é€»è¾‘æ§åˆ¶å™¨ (Thin Controllers)
â”‚   â”œâ”€â”€ Services/           # ä¸šåŠ¡é€»è¾‘æ ¸å¿ƒ (Rich Services)
â”‚   â”œâ”€â”€ Data/               # æ•°æ®åº“ä¸Šä¸‹æ–‡ä¸è¿ç§»
â”‚   â””â”€â”€ Extensions/         # ä¸­é—´ä»¶ä¸æ‰©å±• (GlobalException, Swagger)
â”œâ”€â”€ frontend/               # Next.js 15 App
â”‚   â”œâ”€â”€ app/                # è·¯ç”±: (public), (admin), (auth)
â”‚   â”œâ”€â”€ components/         # UIç»„ä»¶: Button, Card, Dialog
â”‚   â””â”€â”€ lib/                # å·¥å…·: api.ts (BFF Client), utils.ts
â”œâ”€â”€ docker-compose.yml      # å¼€å‘ç¯å¢ƒç¼–æ’
â””â”€â”€ README.md               # é¡¹ç›®æ–‡æ¡£
```

---

## ğŸ“„ License

MIT License.
